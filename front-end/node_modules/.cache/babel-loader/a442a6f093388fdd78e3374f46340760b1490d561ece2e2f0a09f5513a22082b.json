{"ast":null,"code":"// import { createSlice ,createAsyncThunk } from \"@reduxjs/toolkit\";\n\n// const initialState = {\n//   loading: false,\n//   list: [],\n//   selected: [],\n//   error: null,\n// };\n\n// const usersSlice = createSlice({\n//   name: \"users\",\n//   initialState,\n//   reducers: {\n//     fetchingUsers: (state) => {\n//       state.loading = true;\n//     },\n//     loadUsers: (state, action) => {\n//       const { payload } = action;\n//       state.loading = false;\n//       state.list = payload;\n//     },\n//     errorOccured: (state, action) => {\n//       const { payload } = action;\n//       state.loading = false;\n//       state.error = payload;\n//     },\n//     removeUser: (state, action) => {\n//       const { payload } = action;\n//       state.list = state.list.filter((u) => u.id !== payload);\n//     },\n//     selectUser: (state, action) => {\n//       const { payload } = action;\n//       const exists = state.selected.some((u) => u.id === payload);\n//       if (!exists) {\n//         state.selected.push(payload);\n//       }\n//     },\n//   },\n// });\n\n// export const {\n//   loadUsers,\n//   fetchingUsers,\n//   errorOccured,\n//   removeUser,\n//   selectUser,\n// } = usersSlice.actions;\n\n// export const usersSliceSelector = (global) => global.users;\n\n// export const usersReducer = usersSlice.reducer;\n\n// export default usersSlice;\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\n// Async thunk for user registration\nexport const registerUser = createAsyncThunk(\"users/registerUser\", async ({\n  name,\n  email,\n  password\n}, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.post(\"http://localhost:3030/api/users/register\", {\n      name,\n      email,\n      password\n    });\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nconst initialState = {\n  loading: false,\n  list: [],\n  error: null,\n  user: null\n};\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState,\n  reducers: {\n    fetchingUsers: state => {\n      state.loading = true;\n    },\n    loadUsers: (state, action) => {\n      const {\n        payload\n      } = action;\n      state.loading = false;\n      state.list = payload;\n    },\n    errorOccured: (state, action) => {\n      const {\n        payload\n      } = action;\n      state.loading = false;\n      state.error = payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(registerUser.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(registerUser.fulfilled, (state, {\n      payload\n    }) => {\n      state.loading = false;\n      state.user = payload;\n    }).addCase(registerUser.rejected, (state, {\n      payload\n    }) => {\n      state.loading = false;\n      state.error = payload;\n    });\n  }\n});\nexport const {\n  loadUsers,\n  fetchingUsers,\n  errorOccured\n} = usersSlice.actions;\nexport const usersSliceSelector = state => state.users;\nexport default usersSlice.reducer;\nexport const userRe = productsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","registerUser","name","email","password","rejectWithValue","response","post","data","error","initialState","loading","list","user","usersSlice","reducers","fetchingUsers","state","loadUsers","action","payload","errorOccured","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","usersSliceSelector","users","reducer","userRe","productsSlice"],"sources":["C:/Users/hp/Desktop/E-learning-System/front-end/src/data-store/redux/userSlice/index.js"],"sourcesContent":["// import { createSlice ,createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\n// const initialState = {\r\n//   loading: false,\r\n//   list: [],\r\n//   selected: [],\r\n//   error: null,\r\n// };\r\n\r\n// const usersSlice = createSlice({\r\n//   name: \"users\",\r\n//   initialState,\r\n//   reducers: {\r\n//     fetchingUsers: (state) => {\r\n//       state.loading = true;\r\n//     },\r\n//     loadUsers: (state, action) => {\r\n//       const { payload } = action;\r\n//       state.loading = false;\r\n//       state.list = payload;\r\n//     },\r\n//     errorOccured: (state, action) => {\r\n//       const { payload } = action;\r\n//       state.loading = false;\r\n//       state.error = payload;\r\n//     },\r\n//     removeUser: (state, action) => {\r\n//       const { payload } = action;\r\n//       state.list = state.list.filter((u) => u.id !== payload);\r\n//     },\r\n//     selectUser: (state, action) => {\r\n//       const { payload } = action;\r\n//       const exists = state.selected.some((u) => u.id === payload);\r\n//       if (!exists) {\r\n//         state.selected.push(payload);\r\n//       }\r\n//     },\r\n//   },\r\n// });\r\n\r\n// export const {\r\n//   loadUsers,\r\n//   fetchingUsers,\r\n//   errorOccured,\r\n//   removeUser,\r\n//   selectUser,\r\n// } = usersSlice.actions;\r\n\r\n// export const usersSliceSelector = (global) => global.users;\r\n\r\n// export const usersReducer = usersSlice.reducer;\r\n\r\n// export default usersSlice;\r\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\n// Async thunk for user registration\r\nexport const registerUser = createAsyncThunk(\r\n  \"users/registerUser\",\r\n  async ({ name, email, password }, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:3030/api/users/register\",\r\n        { name, email, password }\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  list: [],\r\n  error: null,\r\n  user: null,\r\n};\r\n\r\nconst usersSlice = createSlice({\r\n  name: \"users\",\r\n  initialState,\r\n  reducers: {\r\n    fetchingUsers: (state) => {\r\n      state.loading = true;\r\n    },\r\n    loadUsers: (state, action) => {\r\n      const { payload } = action;\r\n      state.loading = false;\r\n      state.list = payload;\r\n    },\r\n    errorOccured: (state, action) => {\r\n      const { payload } = action;\r\n      state.loading = false;\r\n      state.error = payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(registerUser.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(registerUser.fulfilled, (state, { payload }) => {\r\n        state.loading = false;\r\n        state.user = payload;\r\n      })\r\n      .addCase(registerUser.rejected, (state, { payload }) => {\r\n        state.loading = false;\r\n        state.error = payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { loadUsers, fetchingUsers, errorOccured } = usersSlice.actions;\r\n\r\nexport const usersSliceSelector = (state) => state.users;\r\n\r\nexport default usersSlice.reducer;\r\n\r\n\r\nexport const userRe = productsSlice.reducer;\r\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AACA,OAAO,MAAMC,YAAY,GAAGF,gBAAgB,CAC1C,oBAAoB,EACpB,OAAO;EAAEG,IAAI;EAAEC,KAAK;EAAEC;AAAS,CAAC,EAAE;EAAEC;AAAgB,CAAC,KAAK;EACxD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,IAAI,CAC/B,0CAA0C,EAC1C;MAAEL,IAAI;MAAEC,KAAK;MAAEC;IAAS,CAC1B,CAAC;IACD,OAAOE,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAOJ,eAAe,CAACI,KAAK,CAACH,QAAQ,CAACE,IAAI,CAAC;EAC7C;AACF,CACF,CAAC;AAED,MAAME,YAAY,GAAG;EACnBC,OAAO,EAAE,KAAK;EACdC,IAAI,EAAE,EAAE;EACRH,KAAK,EAAE,IAAI;EACXI,IAAI,EAAE;AACR,CAAC;AAED,MAAMC,UAAU,GAAGhB,WAAW,CAAC;EAC7BI,IAAI,EAAE,OAAO;EACbQ,YAAY;EACZK,QAAQ,EAAE;IACRC,aAAa,EAAGC,KAAK,IAAK;MACxBA,KAAK,CAACN,OAAO,GAAG,IAAI;IACtB,CAAC;IACDO,SAAS,EAAEA,CAACD,KAAK,EAAEE,MAAM,KAAK;MAC5B,MAAM;QAAEC;MAAQ,CAAC,GAAGD,MAAM;MAC1BF,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBM,KAAK,CAACL,IAAI,GAAGQ,OAAO;IACtB,CAAC;IACDC,YAAY,EAAEA,CAACJ,KAAK,EAAEE,MAAM,KAAK;MAC/B,MAAM;QAAEC;MAAQ,CAAC,GAAGD,MAAM;MAC1BF,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBM,KAAK,CAACR,KAAK,GAAGW,OAAO;IACvB;EACF,CAAC;EACDE,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACvB,YAAY,CAACwB,OAAO,EAAGR,KAAK,IAAK;MACxCA,KAAK,CAACN,OAAO,GAAG,IAAI;MACpBM,KAAK,CAACR,KAAK,GAAG,IAAI;IACpB,CAAC,CAAC,CACDe,OAAO,CAACvB,YAAY,CAACyB,SAAS,EAAE,CAACT,KAAK,EAAE;MAAEG;IAAQ,CAAC,KAAK;MACvDH,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBM,KAAK,CAACJ,IAAI,GAAGO,OAAO;IACtB,CAAC,CAAC,CACDI,OAAO,CAACvB,YAAY,CAAC0B,QAAQ,EAAE,CAACV,KAAK,EAAE;MAAEG;IAAQ,CAAC,KAAK;MACtDH,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBM,KAAK,CAACR,KAAK,GAAGW,OAAO;IACvB,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEF,SAAS;EAAEF,aAAa;EAAEK;AAAa,CAAC,GAAGP,UAAU,CAACc,OAAO;AAE5E,OAAO,MAAMC,kBAAkB,GAAIZ,KAAK,IAAKA,KAAK,CAACa,KAAK;AAExD,eAAehB,UAAU,CAACiB,OAAO;AAGjC,OAAO,MAAMC,MAAM,GAAGC,aAAa,CAACF,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}